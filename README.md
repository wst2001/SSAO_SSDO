
# 计算机图形学 SSAO & SSDO
- 项目简介  

 本项目是利用**屏幕空间环境光遮蔽**（Screen-Space Ambient Occlusion，SSAO）技术以及**屏幕空间定向遮蔽**（Screen-Space Directional Occlusion，SSDO）技术实现的图形渲染程序.  

 本项目以GLFW库和GLAD库为基础进行OpenGL编程，使用Assimp库以导入模型，使用Imgui库以创建交互窗口. 

 本项目在实现了SSAO和SSDO技术的同时，允许用户自行设置某些技术参数，并可以选择不同的模型、以任意视角观察渲染结果.

- 编译和执行方法  

本项目可以使用cmake进行编译.在源代码文件夹下执行如下命令即可编译代码.
```c
  mkdir build 
  cd build
  cmake ..
  cd ..
  cmake --build build
```

以Visual Studio 2022环境为例，编译完成后，打开build文件夹下的SSAO_SSDO.sln文件，选择项目SSAO或SSDO或SSAOplusSSDP，右键**设为启动项目**后即可使用**本地Windows调试器**执行.

**请注意，如果编译过程出现问题，请将源代码文件夹中的lib文件夹下的所有库文件替换成lib1文件夹下的库文件.这可能是库的兼容性导致的问题.**

运行成功后，用户可以观察到一个栩栩如生的龙模型在天空之下、山水之间的光照渲染结果.

-  交互方式

1. 视点和视角的自由变换

  1.1  在英文输入法下按下键盘上的W/S/A/D键，可以实现摄像机的前/后/左/右移动.

  1.2  按下键盘上的空格键，可以实现摄像机向上移动；按下键盘上的Shift键，可以实现摄像机向下移动.

  1.3  按下键盘上的上、下、左、右键（不是小键盘上的键），可以实现摄像机视角向上、向下、向左、向右变动（可以分别理解为抬头看、低头看、向左看、向右看）.

  1.4 使用鼠标滚轮可以进行缩放.

  1.5 **普通模式**和**MC模式**：在鼠标交互界面“Settings”点击Options菜单栏，选择MC Mode，即可由普通模式进入“MC模式”，也即是类似于游戏“Minecraft（我的世界）”的视角变换模式.此模式下用户的鼠标将被捕获而不再出现，摄像机的视角将随用户的鼠标的移动而发生变化.进入MC模式后，如果想退出该模式，按一次键盘上的Esc键即可.

2. 调整SSAO/SSDO属性

  在普通模式下，通过鼠标交互界面“Settings”中的“SSAO/SSDO Settings”列表，用户可以通过拖动滑动条的方式人为设置SSAO/SSDO的参数，比如采样核心规模(Size of Kernel)和采样半径(Radius)等.

3. 调整光照属性

  在普通模式下，用户可以在交互界面“Settings”中的“Light Settings”列表下调整光照属性.

  一方面，用户可以手动拖动滑动条以调整光源位置(Light Position)的xyz分量，从而调整光源位置；

  另一方面，用户可以设置光源的颜色(Light Color).用户可以人为输入RGB色值（如北大红：R=139 , G=0 , B=18），也可以在色板中进行颜色选择.

4. 调整模型属性

  在普通模式下，用户可以在交互界面“Settings”中的“Model Settings”列表下调整模型属性.

  用户可以利用下拉单选框在预置的10个模型中进行切换，以观察不同的模型的渲染效果；用户还可以人为调整模型的放置调度，通过拖动滑动条调整Model Angle，从而绕xyz轴旋转模型.

5. 退出程序

   在普通模式按下键盘上的Esc键，可以结束程序并关闭窗口.若在MC模式下按下Esc键，将退出该模式而变为普通模式（见1.5），退出后再按一次Esc键，即可退出程序.此外，用户还可以点击Options菜单栏，点击Quit选项来退出程序.



